<div class="tv-profile-container" *ngIf="profileData">
  <div class="cover-image">
    <img [src]="profileData.coverImage || 'assets/cover-placeholder.jpg'" alt="Cover Image">
  </div>

  <div class="profile-header">
    <img [src]="profileData.profileImage || 'user.png'" alt="Profile" class="profile-img">

    <div class="header-content">
      <div class="basic-info">
        <h2>{{ profileData.name }}</h2>
        <p>{{ profileData.email }}</p>
        <p>{{ profileData.phone }}</p>
      </div>

      <div class="edit-icon">
        <img (click)="popupUpdateForm()" src="pen.png" alt="Edit">
      </div>
    </div>
  </div>

  <div class="profile-body">
    <div class="section">
      <h3>Personal Info</h3>
      <p><strong>Age:</strong> {{ profileData.age }}</p>
      <p><strong>Gender:</strong> {{ profileData.gender }}</p>
      <p><strong>Address:</strong> {{ profileData.address }}</p>
    </div>

    <div class="section">
      <h3>Teaching Details</h3>
      <p><strong>Specialized Area:</strong> {{ profileData.specializedArea }}</p>
      <p><strong>Preferred Side:</strong> {{ profileData.preferredSide }}</p>
    </div>

    <div class="section" *ngIf="profileData.cv">
      <h3>Curriculum Vitae</h3>
      <div class="cv-box">
        <div class="cv-thumbnail">
          <p>Preview available
            <a [href]="profileData.cv" target="_blank" alt="CV Thumbnail">
              <img src="link.png" alt="CV Thumbnail">
            </a>
          </p>
        </div>
      </div>
    </div>

    <div class="section" *ngIf="profileData.certificates && profileData.certificates.length">
      <h3>Certificates</h3>
      <div class="certificate-grid">
        <div class="certificate-box" *ngFor="let cert of profileData.certificates">
          <img src="certificate.png" alt="Certificate Thumbnail">
          <p>{{cert.name}}</p>
            <a [href]="profileData.url" target="_blank" alt="CV Thumbnail">
              <img src="link.png" alt="CV Thumbnail">
            </a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="showUpdatePopup">
  <div class="modal-box">
    <button class="close-btn" (click)="closePopup()">âœ–</button>

    <!-- Teacher update form component embedded as popup -->
    <app-tp-update></app-tp-update>
  </div>
</div>
